

CREATE DATABASE control_stock_libreria;
USE control_stock_libreria;

CREATE TABLE `L1M_PROVEEDOR`
(
  `ProCod` Int NOT NULL,
  `ProNom` Char(60),
  `ProFecInsProA単o` Int,
  `ProFecInsProMes` Int,
  `ProFecInsProDia` Int,
  `ProDir` Char(20),
  `ProZon` Int,
  `ProEstReg` Char(1)
)
;

CREATE INDEX `IX_Relationship2` ON `L1M_PROVEEDOR` (`ProZon`)
;

CREATE INDEX `IX_Relationship4` ON `L1M_PROVEEDOR` (`ProEstReg`)
;

ALTER TABLE `L1M_PROVEEDOR` ADD PRIMARY KEY (`ProCod`)
;


CREATE TABLE `GZZ_ZONA`
(
  `ZonCod` Int NOT NULL,
  `ZonDes` Char(40)
)
;

ALTER TABLE `GZZ_ZONA` ADD PRIMARY KEY (`ZonCod`)
;


CREATE TABLE `L1M_CLIENTE`
(
  `CliCod` Int NOT NULL,
  `CliNom` Char(60),
  `CliFecInsA単o` Int,
  `CliFecInsMes` Int,
  `CliFecInsDia` Int,
  `CliDir` Int,
  `CliZon` Int,
  `CliEstReg` Char(1)
)
;

CREATE INDEX `IX_Relationship9` ON `L1M_CLIENTE` (`CliZon`)
;

CREATE INDEX `IX_Relationship10` ON `L1M_CLIENTE` (`CliEstReg`)
;

ALTER TABLE `L1M_CLIENTE` ADD PRIMARY KEY (`CliCod`)
;


CREATE TABLE `L1T_STOCK_ENTRADA_CAB`
(
  `StoEntCabCod` Int NOT NULL,
  `StoEntCabFecInsA単o` Int,
  `StoEntCabFecInsMes` Int,
  `StoEntCabFecInsDia` Int,
  `StoEntCabPro` Int,
  `StoEntCanEstReg` Char(1),
  `AsiCod` Int
)
;

CREATE INDEX `IX_Relationship3` ON `L1T_STOCK_ENTRADA_CAB` (`StoEntCabPro`)
;

CREATE INDEX `IX_Relationship5` ON `L1T_STOCK_ENTRADA_CAB` (`StoEntCanEstReg`)
;

CREATE INDEX `IX_Relationship22` ON `L1T_STOCK_ENTRADA_CAB` (`AsiCod`)
;

ALTER TABLE `L1T_STOCK_ENTRADA_CAB` ADD PRIMARY KEY (`StoEntCabCod`)
;


CREATE TABLE `L1T_STOCK_ENTRADA_DET`
(
  `StoEntCabSec` Int NOT NULL,
  `StoEntDetCan` Int,
  `StoEntCabCod` Int,
  `StoEntDetArt` Int,
  `StoEntCabEstReg` Char(1)
)
;

CREATE INDEX `IX_Relationship6` ON `L1T_STOCK_ENTRADA_DET` (`StoEntCabCod`)
;

CREATE INDEX `IX_Relationship7` ON `L1T_STOCK_ENTRADA_DET` (`StoEntDetArt`)
;

CREATE INDEX `IX_Relationship8` ON `L1T_STOCK_ENTRADA_DET` (`StoEntCabEstReg`)
;

ALTER TABLE `L1T_STOCK_ENTRADA_DET` ADD PRIMARY KEY (`StoEntCabSec`)
;


CREATE TABLE `L1T_STOCK_SALIDA_CAB`
(
  `StoSalCabCod` Int NOT NULL,
  `StosalCabFecInsStoA単o` Int,
  `StosalCabFecInsStoMes` Int,
  `StosalCabFecInsStoDia` Int,
  `StoSalCabCli` Int,
  `StoSalCabEstReg` Char(1)
)
;

CREATE INDEX `IX_Relationship11` ON `L1T_STOCK_SALIDA_CAB` (`StoSalCabCli`)
;

CREATE INDEX `IX_Relationship12` ON `L1T_STOCK_SALIDA_CAB` (`StoSalCabEstReg`)
;

ALTER TABLE `L1T_STOCK_SALIDA_CAB` ADD PRIMARY KEY (`StoSalCabCod`)
;


CREATE TABLE `L1T_STOCK_SALIDA_DET`
(
  `StoSalDetSec` Int NOT NULL,
  `StoSalDetCan` Int,
  `StoSalCabCod` Int,
  `StoSalDetArt` Int,
  `StoSalCabEstReg` Char(1)
)
;

CREATE INDEX `IX_Relationship13` ON `L1T_STOCK_SALIDA_DET` (`StoSalCabCod`)
;

CREATE INDEX `IX_Relationship14` ON `L1T_STOCK_SALIDA_DET` (`StoSalDetArt`)
;

CREATE INDEX `IX_Relationship15` ON `L1T_STOCK_SALIDA_DET` (`StoSalCabEstReg`)
;

ALTER TABLE `L1T_STOCK_SALIDA_DET` ADD PRIMARY KEY (`StoSalDetSec`)
;


CREATE TABLE `L1M_ARTICULOS`
(
  `ArtCod` Int NOT NULL,
  `ArtNom` Char(60),
  `ArtCan` Int,
  `ArtDes` Char(60),
  `ArtEstReg` Char(1),
  `ArtMar` Int,
  `UniMedCod` Int
)
;

CREATE INDEX `IX_Relationship18` ON `L1M_ARTICULOS` (`ArtEstReg`)
;

CREATE INDEX `IX_Relationship19` ON `L1M_ARTICULOS` (`ArtMar`)
;

CREATE INDEX `IX_Relationship23` ON `L1M_ARTICULOS` (`UniMedCod`)
;

ALTER TABLE `L1M_ARTICULOS` ADD PRIMARY KEY (`ArtCod`)
;


CREATE TABLE `GZZ_ESTADO_REGISTRO`
(
  `EstRegCod` Char(1) NOT NULL,
  `EstRegDes` Char(40),
  `EstRegEstReg` Char(1)
)
;

ALTER TABLE `GZZ_ESTADO_REGISTRO` ADD PRIMARY KEY (`EstRegCod`)
;


CREATE TABLE `GZZ_MARCAS`
(
  `MarCod` Int NOT NULL,
  `MarEstReg` Char(1),
  `MarNom` Char(60)
)
;

ALTER TABLE `GZZ_MARCAS` ADD PRIMARY KEY (`MarCod`)
;


CREATE TABLE `GZZ_UNIDAD_MEDIDA`
(
  `UniMedCod` Int NOT NULL,
  `UniMedNom` Char(20),
  `EstRegCod` Char(1)
)
;

CREATE INDEX `IX_Relationship20` ON `GZZ_UNIDAD_MEDIDA` (`EstRegCod`)
;

ALTER TABLE `GZZ_UNIDAD_MEDIDA` ADD PRIMARY KEY (`UniMedCod`)
;


CREATE TABLE `GZZ_EMPLEADO`
(
  `AsiCod` Int NOT NULL,
  `AsiNom` Char(80),
  `EstRegCod` Char(1)
)
;

CREATE INDEX `IX_Relationship21` ON `GZZ_EMPLEADO` (`EstRegCod`)
;

ALTER TABLE `GZZ_EMPLEADO` ADD PRIMARY KEY (`AsiCod`)
;


ALTER TABLE `L1M_PROVEEDOR` ADD CONSTRAINT `Relationship2` FOREIGN KEY (`ProZon`) REFERENCES `GZZ_ZONA` (`ZonCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_ENTRADA_CAB` ADD CONSTRAINT `Relationship3` FOREIGN KEY (`StoEntCabPro`) REFERENCES `L1M_PROVEEDOR` (`ProCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1M_PROVEEDOR` ADD CONSTRAINT `Relationship4` FOREIGN KEY (`ProEstReg`) REFERENCES `GZZ_ESTADO_REGISTRO` (`EstRegCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_ENTRADA_CAB` ADD CONSTRAINT `Relationship5` FOREIGN KEY (`StoEntCanEstReg`) REFERENCES `GZZ_ESTADO_REGISTRO` (`EstRegCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_ENTRADA_DET` ADD CONSTRAINT `Relationship6` FOREIGN KEY (`StoEntCabCod`) REFERENCES `L1T_STOCK_ENTRADA_CAB` (`StoEntCabCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_ENTRADA_DET` ADD CONSTRAINT `Relationship7` FOREIGN KEY (`StoEntDetArt`) REFERENCES `L1M_ARTICULOS` (`ArtCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_ENTRADA_DET` ADD CONSTRAINT `Relationship8` FOREIGN KEY (`StoEntCabEstReg`) REFERENCES `GZZ_ESTADO_REGISTRO` (`EstRegCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1M_CLIENTE` ADD CONSTRAINT `Relationship9` FOREIGN KEY (`CliZon`) REFERENCES `GZZ_ZONA` (`ZonCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1M_CLIENTE` ADD CONSTRAINT `Relationship10` FOREIGN KEY (`CliEstReg`) REFERENCES `GZZ_ESTADO_REGISTRO` (`EstRegCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_SALIDA_CAB` ADD CONSTRAINT `Relationship11` FOREIGN KEY (`StoSalCabCli`) REFERENCES `L1M_CLIENTE` (`CliCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_SALIDA_CAB` ADD CONSTRAINT `Relationship12` FOREIGN KEY (`StoSalCabEstReg`) REFERENCES `GZZ_ESTADO_REGISTRO` (`EstRegCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_SALIDA_DET` ADD CONSTRAINT `Relationship13` FOREIGN KEY (`StoSalCabCod`) REFERENCES `L1T_STOCK_SALIDA_CAB` (`StoSalCabCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_SALIDA_DET` ADD CONSTRAINT `Relationship14` FOREIGN KEY (`StoSalDetArt`) REFERENCES `L1M_ARTICULOS` (`ArtCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_SALIDA_DET` ADD CONSTRAINT `Relationship15` FOREIGN KEY (`StoSalCabEstReg`) REFERENCES `GZZ_ESTADO_REGISTRO` (`EstRegCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1M_ARTICULOS` ADD CONSTRAINT `Relationship18` FOREIGN KEY (`ArtEstReg`) REFERENCES `GZZ_ESTADO_REGISTRO` (`EstRegCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1M_ARTICULOS` ADD CONSTRAINT `Relationship19` FOREIGN KEY (`ArtMar`) REFERENCES `GZZ_MARCAS` (`MarCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `GZZ_UNIDAD_MEDIDA` ADD CONSTRAINT `Relationship20` FOREIGN KEY (`EstRegCod`) REFERENCES `GZZ_ESTADO_REGISTRO` (`EstRegCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `GZZ_EMPLEADO` ADD CONSTRAINT `Relationship21` FOREIGN KEY (`EstRegCod`) REFERENCES `GZZ_ESTADO_REGISTRO` (`EstRegCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1T_STOCK_ENTRADA_CAB` ADD CONSTRAINT `Relationship22` FOREIGN KEY (`AsiCod`) REFERENCES `GZZ_EMPLEADO` (`AsiCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

ALTER TABLE `L1M_ARTICULOS` ADD CONSTRAINT `Relationship23` FOREIGN KEY (`UniMedCod`) REFERENCES `GZZ_UNIDAD_MEDIDA` (`UniMedCod`) ON DELETE RESTRICT ON UPDATE RESTRICT
;

